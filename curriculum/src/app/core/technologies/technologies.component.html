<div class="container">
  <div class="row title-bar">
    <a [pageScrollDuration]="250" class="title-bar-item" href="#section-1" pageScroll>Top Technologies</a>
    <a [pageScrollDuration]="250" class="title-bar-item" href="#section-2" pageScroll>User statics</a>
  </div>
  <div class="container">
    <div class="title" id="section-1">
      <span>Top Technologies</span>
    </div>
    <div class="start">
      <ag-charts-angular [options]="options" style="max-width: 400px">
      </ag-charts-angular>
    </div>
    <div class="title" id="section-2">
      <span>Static Users</span>
    </div>
    <div class="start">
      <button (click)="getSelectedRows()" class="btn">Get Rows</button>
      <ag-grid-angular #agGrid [columnDefs]="columnDefs" [rowData]="rowData | async" class="ag-theme-alpine"
        rowSelection="multiple" style="width: 500px; height: 500px; max-width: 100%;">
      </ag-grid-angular>
    </div>
  </div>
  <div *ngIf="pieOptions">
    <ag-charts-angular style="height: 100%" [options]="pieOptions">
    </ag-charts-angular>
  </div>
  <div *ngIf="barChartOptions">
    <ag-charts-angular [options]="barChartOptions">
    </ag-charts-angular>
  </div>
</div>
<div class="container cardsContainer">
  <div class="page-header">
    <h1 id="timeline">Timeline</h1>
  </div>
  <ul class="timeline">
    <li *ngFor="let issue of issuesList |sortByField:'number'; let i = index" data-aos="fade-up"
      [ngClass]="(i+1) % 2 == 0? 'timeline-inverted':''">
      <div class="timeline-badge" [ngClass]="issue.pull_request?'merge': (issue.state ==='open'? 'open':'closed')">
        <i class="glyphicon glyphicon-check"></i>
      </div>
      <div class="timeline-panel">
        <div class="timeline-heading">
          <h4 class="timeline-title">
            <a href="{{issue.html_url}}" target="_blank">{{issue.title}}</a>
            <span class="badge badge-pill float-right" [class.badge-danger]="issue.state === 'closed'"
              [class.badge-success]="issue.state === 'open'">{{issue.state | titlecase}}</span>
            <span *ngIf="issue.pull_request" class="badge badge-pill badge-secondary float-right">Merged</span>
          </h4>
          <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> Created at:
              {{issue.created_at| date: 'dd/MM/yyyy'}}</small></p>
          <div *ngIf="issue.closed_at; else noDateBlock">
            <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> Closed at:
                {{issue.closed_at| date: 'dd/MM/yyyy'}}</small></p>
          </div>
          <ng-template #noDateBlock>
            <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> Issue Still Open</small></p>
          </ng-template>
        </div>
        <div class="timeline-body">
          <p *ngFor="let assignedPpl of issue.assignees">
            Assigned to: <a href="{{assignedPpl.html_url}}" target="_blank">{{assignedPpl.login}}</a>
          </p>
        </div>
      </div>
    </li>
  </ul>
</div>
